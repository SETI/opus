<div id="cart-sidebar">
    <div id="cart_summary" class="well well-lg">
        <div id="op-download-links">
            <h1>Zipped File Links</h1>
            <ul class="zippedFiles"></ul>
            <span class="spinner">&nbsp;</span>
        </div>
        <div class="op-download-header">
            <h1>Download Options</h1>
            <!-- <p>Total Files: <span id="total_files">{{ download_count }}</span></p> -->
            <!-- <p>Total Size (before zip): <span id="op-total-download-size">{{ total_download_size_pretty }}</span></p> -->
            <p class="op-total-size mb-0">Total Size (before zip): <span class="spinner">&nbsp;</span><span id="op-total-download-size">{{ total_download_size_pretty }}</span></p>
            <p class="op-total-download">Total Files (before zip): <span class="spinner">&nbsp;</span><span id="op-total-download-count">{{ total_download_count }}</span></p>
            <p class="m-0">Select which product types to include in downloads:</p>
            <div class="mb-3">
                <button class="op-cart-select-all-btn" type="button">Select all product types</button>
                <button class="op-cart-deselect-all-btn" type="button">Deselect all product types</button>
            </div>
        </div>
        <div id="op-download-options-panel">
            <table class="op-download-table table-sm">
                <thead>
                    <tr>
                        <th scope="col">Product Type</th>
                        <th scope="col">Product Count</th>
                        <th scope="col"># of Files</th>
                        <th scope="col">Size</th>
                    </tr>
                </thead>
                <tbody>
                    {% for product_cat, product_list in product_cat_list %}
                        <th class="bg-light" colspan="4">
                            <h4>{{ product_cat }}</h4>
                            <div>
                                <button class="op-cart-select-btn" data-category="{{ product_cat|slugify }}" type="button">Select all</button>
                                <button class="op-cart-deselect-btn" data-category="{{ product_cat|slugify }}" type="button">Deselect all</button>
                            </div>
                        </th>

                                {% for product_info in product_list %}
                                    <tr>
                                        <th scope="row">
                                            <input type="checkbox" value="{{ product_info.slug_name }}"
                                                {% if product_info.product_count > 0 %}
                                                    checked
                                                {% endif %}
                                            >
                                            <span>
                                                {% if product_info.tooltip %}
                                                    &nbsp;&nbsp;<i class="fas fa-info-circle" title="{{ product_info.tooltip }}"></i>
                                                {% endif %}
                                            </span>
                                            {{ product_info.product_type }}
                                        </th>
                                        <td>{{ product_info.product_count }}</td>
                                        <td>{{ product_info.download_count }}</td>
                                        <td>{{ product_info.download_size_pretty }}</td>
                                    </tr>
                                {% endfor %}

                        <!-- <ul id="product_types" class="list-inline" data-category="{{ product_cat|slugify }}">
                            {% for product_info in product_list %}
                                <li>
                                    <input type="checkbox" value="{{ product_info.slug_name }}"
                                        {% if product_info.product_count > 0 %}
                                            checked
                                        {% endif %}
                                    >
                                    <span
                                        {% if product_info.product_count == 0 %}
                                            class="fadey"
                                        {% endif %}
                                    >
                                        {% if product_info.tooltip %}
                                            &nbsp;&nbsp;<i class="fas fa-info-circle" title="{{ product_info.tooltip }}"></i>
                                        {% endif %}
                                        {{ product_info.product_type }}
                                        ({{ product_info.product_count }}, {{ product_info.download_count }}, {{ product_info.download_size_pretty }})
                                    </span>
                                </li>
                            {% endfor %}
                        </ul> -->
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
